version: "3.1"

intents:
  - start
  - choose_budget
  - choose_platform
  - provide_description
  - greet

entities:
  - budget
  - platform
  - company_description

slots:
  budget:
    type: text
    mappings:
      - type: from_entity
        entity: budget
  platform:
    type: text
    mappings:
      - type: from_entity
        entity: platform
  company_description:
    type: text
    mappings:
      - type: from_text
        intent: provide_description

responses:
  utter_welcome:
    - text: "Hey, I'm ACE! You probably just read about me in the advertisement :). I just have 3 questions to see if I'd be a good fit!\n\nWhat is your business's ad spend per month (approximate)?"
      buttons:
        - title: "€500–€1k"
          payload: '/choose_budget{{"budget":"lt_1k"}}'
        - title: "€1k–€3k"
          payload: '/choose_budget{{"budget":"1k_3k"}}'
        - title: "€3k–€10k"
          payload: '/choose_budget{{"budget":"3k_10k"}}'
        - title: "€10k+"
          payload: '/choose_budget{{"budget":"gt_10k"}}'

  utter_platform_question:
    - text: "Got it! Which platforms are you currently running ads on?"
      buttons:
        - title: "Google"
          payload: '/choose_platform{{"platform":"Google"}}'
        - title: "Facebook"
          payload: '/choose_platform{{"platform":"Facebook"}}'
        - title: "LinkedIn"
          payload: '/choose_platform{{"platform":"LinkedIn"}}'

  utter_describe_company:
  - custom:
      text: "Lastly, what does your company do and what do you do at the company?"
      openInput: true

  utter_ack_budget:
    - text: "Great, that budget is a solid fit for testing ACE's capabilities."

  utter_ack_platform:
    - text: "Nice, ACE has proven results on that platform."

  utter_greet:
    - text: "Hi there! Welcome to ACE."
      buttons:
        - title: "Let's start"
          payload: "/start"

  utter_greet_budget:
    - text: "Could you tell me your business's ad spend per month?"
      buttons:
        - title: "€500–€1k"
          payload: '/choose_budget{{"budget":"lt_1k"}}'
        - title: "€1k–€3k"
          payload: '/choose_budget{{"budget":"1k_3k"}}'
        - title: "€3k–€10k"
          payload: '/choose_budget{{"budget":"3k_10k"}}'
        - title: "€10k+"
          payload: '/choose_budget{{"budget":"gt_10k"}}'

actions:
  - action_deepseek_score
